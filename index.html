<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2563eb">
  <title>PriceCompare</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin: 0; padding: 0; }
    #root { width: 100%; height: 100vh; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Simple icon components using emojis (no Lucide dependency)
    const ShoppingCart = () => <span>üõí</span>;
    const Search = () => <span>üîç</span>;
    const Plus = () => <span>‚ûï</span>;
    const Home = () => <span>üè†</span>;
    const User = () => <span>üë§</span>;
    const ChevronRight = () => <span>‚Ä∫</span>;
    const Tag = () => <span>üè∑Ô∏è</span>;
    const TrendingDown = () => <span>üìâ</span>;
    const Clock = () => <span>üïê</span>;
    const Database = () => <span>üíæ</span>;
    const RefreshCw = () => <span>üîÑ</span>;
    const CheckCircle = () => <span>‚úì</span>;
    const AlertCircle = () => <span>‚ö†Ô∏è</span>;
    const Filter = () => <span>üîΩ</span>;
    const Heart = () => <span>‚ù§Ô∏è</span>;
    const Star = () => <span>‚≠ê</span>;

    // Data
    const parseData = () => {
      const products = [
        { name: "Bananas", size: "approx. 180g", colesPrice: 0.45, foodlandPrice: 0.90, perKg: "$2.50/kg", emoji: "üçå" },
        { name: "Strawberries", size: "250g", colesPrice: 3.50, foodlandPrice: 4.99, perKg: "$14.00/kg", emoji: "üçì" },
        { name: "Hass Avocados", size: "1 Each", colesPrice: 2.00, foodlandPrice: 2.76, perKg: "$2.00/ea", emoji: "ü•ë" },
        { name: "Iceberg Lettuce", size: "1 Each", colesPrice: 2.50, foodlandPrice: 3.49, perKg: "$2.50/ea", emoji: "ü•¨" },
        { name: "Baby Spinach", size: "120g", colesPrice: 3.00, foodlandPrice: 3.59, perKg: "$25.00/kg", emoji: "ü•¨" },
        { name: "Carrots", size: "1Kg", colesPrice: 2.50, foodlandPrice: 2.20, perKg: "$2.50/kg", emoji: "ü•ï" },
        { name: "Broccoli Medium", size: "approx. 340g", colesPrice: 2.01, foodlandPrice: 1.70, perKg: "$5.90/kg", emoji: "ü•¶" },
        { name: "Pink Lady Apples", size: "1kg", colesPrice: 7.90, foodlandPrice: 8.90, perKg: "$7.90/kg", emoji: "üçé" },
        { name: "Granny Smith Apples", size: "1kg", colesPrice: 5.90, foodlandPrice: 6.90, perKg: "$5.90/kg", emoji: "üçè" },
        { name: "Oranges Prepacked", size: "3kg", colesPrice: 8.90, foodlandPrice: 7.99, perKg: "$2.97/kg", emoji: "üçä" }
      ];
      return products;
    };

    function PriceCompareApp() {
      const [products] = useState(parseData());
      const [currentScreen, setCurrentScreen] = useState('home');
      const [baskets, setBaskets] = useState([
        { id: 1, name: 'Weekly Shop', items: [] },
        { id: 2, name: 'Quick Essentials', items: [] },
        { id: 3, name: 'Meal Prep', items: [] }
      ]);

      return (
        <div className="w-full h-screen bg-gray-100 flex items-center justify-center p-4">
          <div className="w-full max-w-md h-full max-h-[800px] bg-white rounded-lg shadow-2xl overflow-hidden flex flex-col">
            {/* Header */}
            <div className="bg-blue-600 text-white p-4">
              <h1 className="text-2xl font-bold">PriceCompare</h1>
              <p className="text-sm text-blue-100">Save money on your shopping</p>
            </div>

            {/* Content */}
            <div className="flex-1 overflow-auto p-4">
              <h2 className="font-bold text-lg mb-4">Featured Products</h2>
              
              <div className="space-y-3">
                {products.slice(0, 5).map((product, i) => {
                  const cheaperStore = product.colesPrice < product.foodlandPrice ? 'Coles' : 'Foodland';
                  const lowestPrice = Math.min(product.colesPrice, product.foodlandPrice);
                  
                  return (
                    <div key={i} className="border-2 border-gray-200 rounded-lg p-4 hover:border-blue-400">
                      <div className="flex gap-3 mb-3">
                        <div className="w-16 h-16 bg-gray-200 rounded flex items-center justify-center text-3xl">
                          {product.emoji}
                        </div>
                        <div className="flex-1">
                          <h3 className="font-medium mb-1">{product.name}</h3>
                          <p className="text-xs text-gray-500">{product.size}</p>
                          <p className="text-xs text-gray-400 mt-1">{product.perKg}</p>
                        </div>
                      </div>
                      
                      <div className="bg-green-50 border border-green-200 rounded p-2">
                        <div className="flex justify-between items-center">
                          <span className="text-sm text-gray-600">{cheaperStore}</span>
                          <span className="text-lg font-bold text-green-600">${lowestPrice.toFixed(2)}</span>
                        </div>
                        {product.colesPrice !== product.foodlandPrice && (
                          <p className="text-xs text-green-600 mt-1">
                            Save ${Math.abs(product.colesPrice - product.foodlandPrice).toFixed(2)}
                          </p>
                        )}
                      </div>
                    </div>
                  );
                })}
              </div>

              <div className="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
                <h3 className="font-semibold mb-2">‚úÖ App Working!</h3>
                <p className="text-sm text-gray-700">
                  Your price comparison app is now live. You can see {products.length} products comparing Coles and Foodland prices.
                </p>
              </div>
            </div>

            {/* Bottom Nav */}
            <div className="border-t-2 border-gray-200 p-2 bg-white">
              <div className="flex justify-around">
                <button className="flex flex-col items-center gap-1 p-2 text-blue-600">
                  <Home />
                  <span className="text-xs">Home</span>
                </button>
                <button className="flex flex-col items-center gap-1 p-2 text-gray-400">
                  <Search />
                  <span className="text-xs">Search</span>
                </button>
                <button className="flex flex-col items-center gap-1 p-2 text-gray-400">
                  <ShoppingCart />
                  <span className="text-xs">Baskets</span>
                </button>
                <button className="flex flex-col items-center gap-1 p-2 text-gray-400">
                  <User />
                  <span className="text-xs">Settings</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<PriceCompareApp />);
  </script>
</body>
</html>
